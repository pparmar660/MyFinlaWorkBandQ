<div class="layout" id="219" ng-controller="wictessDetailCnt" ng-show="witnessDetailShowStatus">
    <div class="layout" ng-hide="showLinkedModule">
        <div class="global_Load_head">
            <div class="text_wrap">
                <div class="icon">
                    <div class="center-icon on-icons">
                        <div class="circle-icon">
                            <div class="v-m">
                                <span class="d-icon d-icon4"></span>
                            </div>
                        </div>  
                    </div>
                </div>
                <div class="text_head">
                    <h1><span>Witness:</span> {{witnessData.firstname_usr + " " + witnessData.lastname_usr}}</h1>
                </div>							
            </div>
            <div class="edit_btn_wrap">
                <div class="btn-group sl-icons icon-btn">
                    <div class="wrap-btn">							
                        <button class="button btn-orange btn-block radius" type="button" ng-click="editBtnClicked()">	
                            <span class="v-flex">								  
                                <span class="btn-txt">Edit</span>
                                <span class="circle-flex">
                                    <span class="s-btn-icon"><i class="fa fa-edit"></i></span>			
                                </span>
                            </span>
                        </button>
                    </div>								  
                </div>
            </div>
            <p>Last updated: {{witnessData.last_updated}}</p>							
        </div>
        <div class="incident_report_tab of_detail_view">
            <div class="offender_slider_wrap">
                <div ng-if="images.length > 0" class="carousel-demo-fullscreen">
                    <ul rn-carousel rn-carousel-controls rn-carousel-buffered class="carousel1" rn-carousel-index="imageIndex">
                        <li id="tags-list" ng-repeat="image in images track by $index">
                            <img ng-src="{{image.imageurl}}" custom-click="imageLargeView(image);"/> 
                        </li>

                    </ul>
                </div>
                <div ng-if="images.length == 0" class="carousel-demo-fullscreen">
                    <img src="images/profile_img_1.jpg"/> 
                </div>
            </div>
            <div class="offender_details">
                <div class="parentHorizontalTab">
                    <div class="angTabWrapper">
                        <tabs>
                            <pane title="Contact Details">
                                <div>
                                    <div class="tab_content">
                                        <div class="vvl_wrap">
                                            <div class="left">
                                                <ul>
                                                    <li><p><span>{{FormFieldLabelData.witness[173].lable_name}}</span> <span><strong ng-repeat="wtCat in witnessData.categories track by $index"><small ng-bind-html="wtCat.title_uct"></small></strong></span></p></li>
                                                    <li><p><span>Telephone:</span> <strong ng-bind-html="witnessData.p_tph_usr"></strong></p></li>
                                                    <li><p><span>Mobile:</span> <strong ng-bind-html="witnessData.p_mob_usr"></strong></p></li>
                                                    <li><p><span>{{FormFieldLabelData.witness[50].lable_name}}</span> <strong ng-bind-html="witnessData.email_usr"></strong></p></li>
                                                 </ul>
                                            </div>
                                            <div class="left">
                                                <ul>
                                                    <li><p><span>{{FormFieldLabelData.witness[17].lable_name}}</span> <strong ng-bind-html="witnessData.address_usr"></strong></p></li>
                                                    <li><p><span>{{FormFieldLabelData.witness[18].lable_name}}</span> <strong ng-bind-html="witnessData.address_2_usr"></strong></p></li>
                                                    <li><p><span>{{FormFieldLabelData.witness[19].lable_name}}</span> <strong ng-bind-html="witnessData.address_3_usr"></strong></p></li>
                                                    <li><p><span>{{FormFieldLabelData.witness[20].lable_name}}</span> <strong ng-bind-html="witnessData.postcode_usr"></strong></p></li>
                                                    <li ng-hide="true"><p><span>Town:</span> <strong ng-bind-html="witnessData.town_usr"></strong></p></li>
                                                    <li ng-hide="true"><p><span>County:</span> <strong ng-bind-html="witnessData.county_usr"></strong></p></li>
                                                    <li><p><span>{{FormFieldLabelData.witness[21].lable_name}}</span> <strong ng-bind-html="witnessData.country_name"></strong></p></li>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </pane>
                            <pane title="Images &amp; Media">
                                <div>
                                    <div class="tab_content">
                                        <div class="up_img_wrap">
                                            <div class="col_4" ng-repeat="image in images track by $index">
                                                <div class="files_upload_wrap">
                                                    <div class="image">
                                                        <a href="javascript:void(0);"></a>
                                                        <img ng-src="{{image.imageurl}}" alt="docs">
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </pane>
                        </tabs>
                    </div> 
                </div>
            </div>
        </div>
        <div class="incident_details">
            <div class="incident_victims_details incident-victim-tabs" ng-show="showWicLinkedDetailsTab">
                <div class="parentHorizontalTab">
                     <div class="angTabWrapper orangeTabs">
                    <tabs >
                        <pane title="Incidents" id="wicIncidentTab">
                            <div class="tabing-content">
                                 <div class="vertical-scroll">
                                <div class="o_d_t_wrap">
                                    <div class="left" ng-repeat="incident in incidents" ng-click="openIncidentDetail(incident)">
                                        <ul>
                                            <li><p><span>Reference:</span> <strong>{{incident.reference_no}}</strong></p></li>
                                            <li><p><span>Category:</span> <strong>{{incident.category}}</strong></p></li>
                                            <li><p><span>Outcome/Type:</span> <strong ng-if="incident.outcome != null">{{incident.outcome}}/{{incident.type}}</strong></p></li>
                                            <li><p><span>Date:</span> <strong>{{incident.date}}</strong></p></li>
                                            <li><p><span>Status:</span> <strong>{{incident.status}}</strong></p></li>	
                                        </ul>
                                    </div>
                                       <div ng-if="(incidents.length <= 0 || !incidents)"> No linked Incidents </div>
                                </div>
                            </div>
                            </div>

                        </pane>
                    </tabs>
                </div>
                    
                    
                </div>
            </div>

            <div class="incident_notes_wrap"  ng-show="(witnessData.add_comm == 1 || witnessData.has_task == 1)">
                <div class="parentHorizontalTab">
                    
                     <div class="angTabWrapper orangeTabs">
                        <tabs>
                            <pane title="Notes &amp; Comms" id="vicCommsTab">
                                <div class="tab_content">
                            <div class="comms_notes_wrap">
                                <div ng-if="commsNote.length > 0" ng-repeat="comm in commsNote track by $index">
                                    <div class="notes_wrap" ng-class-even="'next_line'">
                                        <div class="notes_wrap_img">
                                            <img ng-src="{{staffImage}}" alt="news" /> <!--images/news_1.png-->
                                        </div>
                                        <div class="notes_wrap_content">
                                            <div class="notes_wrap_text">
                                                <h3>{{comm.note_title}}</h3> <!--Derek Gent at Nov 11, 2015 11:09--> 
                                                <p>{{comm.message}}</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                            </pane>
                            <pane title="Tasks &amp; Checklists" id="wicTasksTab">
                                <div class="tab_content">
                            <div class="comms_notes_wrap">
                                <div class="AOC_ContentDiv">
                                    <div class="AOC_Content o_d_t_wrap displayBLock">
                                        <ul>
                                            <li ng-if="showChecklist" ng-repeat="task in taskAndCheckList track by $index">
                                                <div class="asignList" >
                                                    <label class="msgstatus_icon"><span><img ng-src="{{task.image}}" alt="{{task.image}}"></span></label>
                                                    <div class="asignDivContent">
                                                        <p class="text">{{task.task_refernce}}: {{task.content}}</p>
                                                        <p><span>Assigned to: {{task.assigned_to}}</span></p>
                                                        <p><span>Date Required: {{task.date}}</span></p>
                                                    </div>
                                                </div> 
                                            </li>
                                             <li ng-if="!showChecklist">{{taskAndCheckList}}</li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>
                            </pane>
                        </tabs>
                        <span ng-if="isCommAllowed" class="comms" custom-click="showAddNotePopup();"></span>
                    </div> 
                   
                </div>
            </div>
        </div>
        <div ng-include="'views/addCommPopup.html'"></div> 
        <div class="sp_wrap" ng-show="isLargeImageView">
            <div class="slider_wrap">
                <div class="slider_content">

                    <div class="slider_img_wrap">
                        <div class="carousel-demo-fullscreen">

                            <ul rn-carousel rn-carousel-controls rn-carousel-buffered class="carousel1" rn-carousel-index="imageIndex">

                                <li id="tags-list" ng-model="imageIndex" ng-repeat="image in images track by $index">


                                    <div class="slider_head">
                                        <h2><span class="close_btn" ng-click="closeLargeImageView();"><i class="fa fa-times"></i></span></h2>
                                    </div>
                                    <h2><strong>Image:</strong> <span>(</span>{{image.imagename}} <span ng-if="image.updateddate != null">- {{image.updateddate}}</span> <span ng-if="image.owner != null">by {{image.owner}}</span><span>)</span></h2>
                                    <img ng-src="{{image.imageurl}}" alt="banner{{image.imagename}}"/> 
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <linked-module ng-if="showLinkedModule"> </linked-module>
    <div id="backSelector" class="btn-group action-button icon-btn" ng-click="closeDetail()" ng-if="showLinkedModule">	
        <div class="wrap-btn">							
            <button class="button btn-action radius margin-top" type="button" >	
                <div class="v-flex">
                    <div class="circle-flex">
                        <span class="s-btn-icon"><i class="fa fa-chevron-left"></i></span>
                    </div>
                    <span class="btn-txt">Back</span>
                </div>											
            </button>							                  
        </div>						
    </div>
</div>
